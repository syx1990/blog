[{"title":"SSH免密登录","url":"/2019/11/17/SSH免密登录/","content":"## 什么是ssh？\nSSH 为 [Secure Shell](https://baike.baidu.com/item/Secure%20Shell) 的缩写，由 IETF 的网络小组（Network Working Group）所制定；SSH 为建立在应用层基础上的安全协议。SSH 是目前较可靠，专为 [远程登录](https://baike.baidu.com/item/%E8%BF%9C%E7%A8%8B%E7%99%BB%E5%BD%95/1071998) 会话和其他网络服务提供安全性的协议。\n## 如何快速的配置ssh免密登录\n### 配置ssh分三步走\n1.  在本地创建公私钥\n```bash\nssh-keygen -t rsa #加密方式选 rsa|dsa均可以，默认dsa\n-t #The type of the key to generate 密钥的类型\n-C #comment to identify the key 用于识别这个密钥的注释 \n\n$ ssh-keygen -t rsa  #加密方式选 rsa|dsa均可以，默认dsa -t The type of the key to generate 密钥的类型 -C comment to identify the key 用于识别这个密钥的注释\nGenerating public/private rsa key pair.\nEnter file *in* which to save the key (/c/Users/Administrator/.ssh/id_rsa):\nEnter passphrase (empty *for* no passphrase):\nEnter same passphrase again:\nYour identification has been saved *in* /c/Users/Administrator/.ssh/id_rsa.\nYour public key has been saved *in* /c/Users/Administrator/.ssh/id_rsa.pub.\nThe key fingerprint is:\nSHA256:gygJuDyfHDsL3n7HoNxXKNrjelXTKjQ1FgvXBVuoR/g geek@PC-20190414MTRE\nThe key's randomart image is:\n+---[RSA 2048]----+\n|       . o+.+o   |\n|.       o=.+o    |\n|o       o.*.     |\n|.o . . + + E     |\n|.oo.. o S +      |\n|  +.+o + +       |\n| ..*= = o        |\n|. o+o* +         |\n| ..==.+          |\n+----[SHA256]-----+\n```\n2. 用ssh-copy-id 将公钥复制或传输到远程服务器,并将身份标识文件追加到服务器的\n```bash\n$ ssh-copy-id -i ~/.ssh/yuxiangServer.pub usaename@ip\n/usr/bin/ssh-copy-id: INFO: Source of key(s) to be installed: \n\"/c/Users/Administrator/.ssh/id_rsa.pub\"\n/usr/bin/ssh-copy-id: INFO: attempting to log *in* with the new key(s), to filter \nout any that are already installed\n/usr/bin/ssh-copy-id: INFO: 1 key(s) remain to be installed -- *if* you are prompted \nnow it is to install the new keys\nyuxiangshi@119.23.78.131's password:\nNumber of key(s) added: 1\nNow try logging into the machine, with:   \"ssh 'yuxiangshi@119.23.78.131'\"\nand check to make sure that only the key(s) you wanted were added.\n```\n3. 配置本机ssh config文件\n```bash\nHost yuxiangServer\n      HostName 119.23.78.131\n      User yuxiangshi\n      Port 22\n      PubkeyAuthentication yes \n      IdentityFile ~/.ssh\n```\n* 修改服务器 /etc/ssh/sshd_config,并重启sshd服务\n```bash\nRSAAuthentication yes \nPubkeyAuthentication yes \nAuthorizedKeysFile      ~/.ssh/authorized_keys\n```\n愉快的玩耍吧。","tags":["工具 ssh"]},{"title":"php-fpm常用命令","url":"/2019/11/17/hello-world/","content":"* 查看php-fpm端口是否在被php-fpm使用\n```bash\nsudo lsof -i:9000\n```\n* 一般修改 php.ini 文件后经常需要重启php-fpm\n```bash\nsudo  killall  php-fpm   关闭\n```\n* 再输入 sudo lsof -i:9000 就会发现php-fpm没有打印对应端口\n```bash\nsudo  php-fpm    重启\n```","tags":["php-fpm"]}]